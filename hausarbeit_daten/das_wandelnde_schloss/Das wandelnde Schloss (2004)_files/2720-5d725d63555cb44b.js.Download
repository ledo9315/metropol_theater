"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2720],{93760:function(e,t,i){i.d(t,{Z:function(){return j}});var a,r,n,o,s=i(52322),l=i(2784),d=i(4283),c=i(85767),u=i(83128),E=i(51250);let p="ad-oo",m={getConsentFromCookie(e,t){let i=(0,E.rZ)(p,t?.headers);if(void 0!==i)return!(parseInt(i)&e)},setConsentToCookie(e,t,i){let a=(0,E.rZ)(p,i),r=0;if(void 0!==a&&(("number"==typeof a||"string"==typeof a)&&(r=parseInt(a)),r&t&&!e||!(r&t)&&e))return;e||(r|=t);let n=new Date;n.setHours(n.getHours()+36),(0,E.Ys)(p,r.toString(),n,"shared")}};var g=i(88023),h=i(54073),I=i.n(h),T=i(45455),f=i.n(T),A=i(12859),_=i(76460);let w=(e,t)=>{window?.mediaOrchestrator?.publish(e,t)},S=e=>{let t=e?.slots;return t&&t[A.A.SIS_PIXEL]?.slotMarkup},y=(e,t)=>{let i=e.match(/el\.src="(.*)";/),a=i?i[1]:void 0;return a||t.error("Failed to retrieve SIS Pixel URL"),a},b=async(e,t)=>{try{return await fetch(e,{method:"GET",credentials:"include"}),!0}catch(e){t.error("Error fetching SIS Pixel",e)}};var v=i(48574);let N=(0,i(16189).createLogger)()("util_sisPixel_rws");(a=n||(n={})).GRANTED="granted",a.PROMPT="prompt",a.DENIED="denied";let M=new Set().add("fake_treatment_1.1").add("fake_treatment_1.2").add("fake_treatment_1.3").add("fake_control_2"),D=["mousedown","scroll","keydown"],R="https://amazon-adsystem.com",L=async()=>{let e="cookieDeprecationLabel"in navigator,t="requestStorageAccessFor"in document;if(!e||!t)return N.log("Browser not compatible with Related Website Sets",{hasCookieDeprecationLabel:e,hasRequestStorageAccessFor:t}),!1;try{let e=await navigator.cookieDeprecationLabel.getValue();return N.log(`Received cookieDeprecationLabel: ${e}`),M.has(e)}catch(e){return N.error("Issue fetching cookieDeprecationLabel",e),!1}},O=async()=>{let e=await x();switch(N.log(`Received storageAccessPermissionStatus: ${e}`),e){case"granted":return C();case"prompt":return P()}N.log(`'top-level-storage-access' permissions for ${R}: denied`)},P=async()=>{let e;if(!navigator.userActivation)return;let t=new Promise(t=>{e=e=>t(e)}),i=async()=>{navigator.userActivation.isActive&&(D.forEach(e=>{document.removeEventListener(e,i)}),await C(),e(!0))};return D.forEach(e=>{document.addEventListener(e,i)}),t},x=async()=>{try{return(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:R})).state}catch(e){N.error("Error querying Storage Access permissions",e);return}},C=async()=>{if("requestStorageAccessFor"in document)try{return await document.requestStorageAccessFor(R),!0}catch(e){N.error("Error requesting storage access",e)}},k=l.memo(e=>{let{sisSlotMarkup:t}=e,[i,a]=(0,l.useState)(!1),r=(0,v.wL)("util_sisSlotMarkup");return(0,l.useEffect)(()=>{(async()=>{if(!await L())return a(!0);await O();let e=y(t,r);e&&await b(e,r)})()},[]),i?(0,s.jsx)("div",{ref:g.dangerouslySetHTML.bind(null,t)}):null});(r=o||(o={})).AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE="1P-ad-autoplay-video-maybe-present",r.EMPTY="",r.ENDED="ended",r.LOADSTART="loadstart",r.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE="no-autoplay-video-ad-detected",r.PAUSE="pause",r.PLAY="play",r.THIRD_PARTY_AD_DETECTED_EVENT_TYPE="3P-ad-no-autoplay-video-detected";let $=e=>{let{adSlotsInfo:t}=e;(0,_.WJ)();let i=()=>{(0,g.isFullscreen)()||(0,g.makeAdAJAXRequest)(t).finally(()=>g.responsiveAdAPIWrapper.setPreviousWindowWidth())},{slotsEnabled:a,clientSideUrlBase:r,atfSlots:n,slotSizeMap:d,apsSlotInfoMap:c}=(0,_.OF)(t);l.useEffect(()=>{let e,s;if(a&&!f()(d)&&(g.responsiveAdAPIWrapper.setPreviousWindowWidth(),e=I()(i,750),window.addEventListener("resize",e),t?.adRefreshInfo?.isEnabled&&("complete"===document.readyState?(0,g.handleAutoRefresh)(t):window.addEventListener("load",()=>(0,g.handleAutoRefresh)(t)))),!a||!r||!n.includes(A.A.INLINE20)){let e={type:o.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,slotName:A.A.INLINE20,timestamp:Date.now()},t={type:o.EMPTY,slotName:"",timestamp:Date.now()};w(g.MediaEvent.MEDIA_PLAYBACK_EVENT_NAME,e),w(g.MediaEvent.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,t)}return()=>{e&&window.removeEventListener("resize",e),s&&window.removeEventListener("load",s)}},[]);let u=(0,_.Bf)(a,r,n,d,c),E=S(t);return(0,s.jsxs)(s.Fragment,{children:[E?(0,s.jsx)(k,{sisSlotMarkup:E}):null,(0,s.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:u}})]})};function j(){let e=(0,c.B)(),{adSlotsInfo:t}=(0,u.Ok)();return e?.context?.sidecar?.ads?.adsCcbaConsent!==void 0&&m.setConsentToCookie(e.context.sidecar?.ads?.adsCcbaConsent,16,e.context?.headers),(0,s.jsx)(d.Z,{name:"IMDbNextAdPageData",children:(0,s.jsx)($,{adSlotsInfo:t})})}},12859:function(e,t,i){i.d(t,{A:function(){return a}});let a={INLINE20:"inline20",INLINE40_MAIN:"inline40-responsive-main",INLINE40_SIDEBAR:"inline40-responsive-sidebar",INLINE40:"inline40",INLINE50:"inline50",INLINE60:"inline60",INLINE80:"inline80",INLINEBOTTOM:"inlinebottom",INTERSTITIAL:"interstitial",MEDIAVIEWER_BANNER:"mediaviewer_banner",PROMOTED_WATCH_BAR:"promoted_watch_bar",PROVIDER_PROMOTION:"provider_promotion",SIS_PIXEL:"sis_pixel",VIDEO_CAROUSEL_ADSCANNER:"video_carousel_adscanner"}},76460:function(e,t,i){var a,r,n,o,s,l;i.d(t,{WJ:function(){return d},Bf:function(){return c},OF:function(){return u},Wd:function(){return E}}),(o=a||(a={})).PREMIUM="premium",o.STANDARD="standard",(s=r||(r={})).BLANK="blank",s.UNKNOWN="unknown",(l=n||(n={})).BLANK="blk",l.UNKNOWN="unk";let d=()=>{void 0===window.hasAdAJAXCallFired&&(window.hasAdAJAXCallFired=!1)},c=(e,t,i,a,r)=>`
        if (window && window.ad_utils && window.ad_utils.makeAtfSlotsCall) {
            window.ad_utils.makeAtfSlotsCall(
                ${e},
                '${t}',
                '${i}',
                ${JSON.stringify(a)},
                ${r?JSON.stringify(r):"{}"});
    }`,u=e=>({slotsEnabled:!e||e.slotsEnabled,clientSideUrlBase:e?e.clientSideUrl:"",atfSlots:e&&e.slots?Object.keys(e.slots).join(","):"",slotSizeMap:e?e.slotSizeMap:{},apsSlotInfoMap:e&&e.apsSlotInfoMap||{}}),E=e=>!e||e?.creativeMetadata?.creativeWidth===0||e?.creativeMetadata?.adProductType?.name===r.BLANK},73282:function(e,t,i){i.d(t,{ol:function(){return I}});var a=i(52322),r=i(72779),n=i.n(r),o=i(2784),s=i(19596),l=i(91842),d=i(41119),c=i(5632),u=i(45103),E=i(28827),p=i(58605),m=i(49482),g=i(51442);let h=e=>{let{refTagPrefix:t,fallbackUrl:i,...r}=e,n=(0,c.useRouter)(),{pageConst:s,pageType:l}=(0,p.y)(),{previousUniqueUrl:d,isPreviousFromIMDb:h}=(0,m.K)(),I=d?.split("?")?.[0],T=RegExp(`${l}/${s}/mediaviewer/?$`).test(I??""),f={close:(0,E.N)({id:"common_buttons_close",defaultMessage:"Close"}),home:(0,E.N)({id:"breadcrumb_label_home",defaultMessage:"Home"})},[A,_]=(0,o.useState)(i??"/"),[w,S]=(0,o.useState)(f.close),[y,b]=(0,o.useState)(!1);(0,o.useEffect)(()=>{h&&n.asPath!==d&&d&&0>d.indexOf("/embeddable/")&&!T?(_(d),S(f.close),b(!1)):i?(_(i),S(f.close),b(!1)):(_("/"),S(f.home),b(!0))},[i,n.asPath,h,d]);let v=t?{ref_:`${t}_close`}:{},N=(0,g.Kn)(A,v);return(0,a.jsx)(u.TextButton,{"data-testid":r["data-testid"],preIcon:y?"chevron-left":"clear",href:N,className:"breadcrumb-link",onColor:"textPrimary",children:w})},I=e=>{let{className:t,refTagPrefix:i,actions:r,children:o,shareProps:s,breadcrumbProps:l,topLabel:c,heightClass:u}=e,E=`${(i??"").replace("_","-")}-share`;return(0,a.jsxs)(T,{"data-testid":"action-bar",className:n()(t,u),children:[(0,a.jsx)(f,{children:(0,a.jsx)(h,{...l})}),!!o&&(0,a.jsx)(A,{children:o}),(0,a.jsxs)(_,{children:[r,s&&(0,a.jsx)(d.Tz,{shareProps:s,pageActionPrefix:E})]}),c]})},T=s.default.div.withConfig({componentId:"sc-7db29af6-0"})(["align-items:center;display:flex;justify-content:space-between;flex-wrap:wrap;width:100%;min-height:4rem;&.compact{min-height:0;}&.extended{min-height:5rem;}"]),f=s.default.div.withConfig({componentId:"sc-7db29af6-1"})(["order:2;","{order:1;width:25%;}"],l.mediaQueries.breakpoints.above.m),A=s.default.div.withConfig({componentId:"sc-7db29af6-2"})(["order:1;width:100%;height:4rem;display:flex;align-content:center;justify-content:center;","{order:2;width:50%;}"],l.mediaQueries.breakpoints.above.m),_=s.default.div.withConfig({componentId:"sc-7db29af6-3"})(["order:3;text-align:right;padding-right:calc("," - 0.75rem);padding-right:calc("," - 0.75rem);","{width:25%;}"],(0,l.getSpacingVarValue)("ipt-pageMargin"),(0,l.getSpacingVar)("ipt-pageMargin"),l.mediaQueries.breakpoints.above.m)},67646:function(e,t,i){i.d(t,{Se:function(){return T},ZP:function(){return f}});var a=i(52322),r=i(66898),n=i(97729),o=i.n(n);i(2784);var s=i(98042),l=i(28827),d=i(85767),c=i(146),u=i(11542),E=i(81988),p=i(49985),m=i(66662),g=i(45333),h=i(36961),I=i(25436);let T=e=>{var t,i;let n,T,f;let A=(0,d.B)().context,{imageUrl:_,imageHeight:w,imageWidth:S}=(t=e.image,n=g.ax,T=g.Bs,f=g.yw,t&&t.url&&t.width&&t.height&&(n=(0,m.y8)(t.url,g.sc),T=t.height/t.width*g.sc,f=g.sc),{imageUrl:n,imageHeight:T,imageWidth:f}),y=(0,l.N)({id:"common_share_title",defaultMessage:"IMDb: Ratings, Reviews, and Where to Watch the Best Movies & TV Shows"}),b=(0,l.N)({id:"common_share_description",defaultMessage:"IMDb is the world's most popular and authoritative source for movie, TV and celebrity content. Find ratings and reviews for the newest movie and TV shows. Get personalized recommendations, and learn where to watch across hundreds of streaming providers."}),v=e.title??y,N=e.description??b,M=e.openGraphData?.type||E.s.Website,D=A.sidecar?.localizationResponse?.isFullLocalizationEnabled,R=(D?A.sidecar?.localizationResponse?.languageForTranslations??"en_US":"en_US").replace("-","_"),L=function(e){let t=e.pageType,i=e.subPageType;return t===I.PageType.TITLE&&i===I.SubPageType.MAIN||t===I.PageType.NAME&&i===I.SubPageType.MAIN||t===I.PageType.VIDEO&&i===I.SubPageType.VIDEO_PLAYBACK_PAGE}(A),O=v,P=N;if(L){let t=e.openGraphData?.enhancedTitle;t&&t.length>0&&(O=t);let i=e.openGraphData?.enhancedDescription;i&&i.length>0&&(P=i)}return(0,a.jsxs)(o(),{children:[(0,u.n4)(c.yS.LOAD_META),(0,r.logCSAWidgetStart)(c.yS.LOAD_META,Date.now()),(0,a.jsx)("title",{children:v}),(0,a.jsx)("meta",{name:"description",content:N,"data-id":"main"},"page-desc"),e.keywords&&(0,a.jsx)("meta",{name:"keywords",content:e.keywords},"page-keywords"),e.noIndex&&(0,a.jsx)("meta",{name:"robots",content:"noindex,follow"}),e.structuredData&&(0,a.jsx)("script",{...(0,s.h6)(e.structuredData)}),e.canonicalUrl&&(0,a.jsx)("meta",{property:"og:url",content:e.canonicalUrl},"fb_url"),(0,a.jsx)("meta",{property:"og:site_name",content:"IMDb"},"fb_site"),(0,a.jsx)("meta",{property:"og:title",content:O},"fb_title"),(0,a.jsx)("meta",{property:"og:description",content:P},"fb_desc"),(0,a.jsx)("meta",{property:"og:type",content:M},"fb_type"),(0,a.jsx)("meta",{property:"og:image",content:_},"fb_img"),(0,a.jsx)("meta",{property:"og:image:height",content:w.toString()},"fb_img_height"),(0,a.jsx)("meta",{property:"og:image:width",content:S.toString()},"fb_img_Width"),(0,a.jsx)("meta",{content:R,property:"og:locale"}),D&&function(e){let t=p.n.map(e=>e.replace("-","_"));return(0,a.jsx)(a.Fragment,{children:t.filter(t=>t!==e).map(e=>(0,a.jsx)("meta",{content:e,property:"og:locale:alternate"},`lc_alt_${e}`))})}(R),(0,a.jsx)("meta",{property:"twitter:site",content:"@IMDb"},"tw_site"),(0,a.jsx)("meta",{property:"twitter:title",content:O},"tw_title"),(0,a.jsx)("meta",{property:"twitter:description",content:P},"tw_desc"),(0,a.jsx)("meta",{property:"twitter:card",content:"summary_large_image"},"tw_type"),(0,a.jsx)("meta",{property:"twitter:image",content:_},"tw_img"),(0,a.jsx)("meta",{property:"twitter:image:alt",content:N},"tw_img_alt"),e.canonicalUrl&&(0,a.jsx)("link",{rel:"canonical",href:e.canonicalUrl}),(i=e.hrefLangEntries)&&0!==i.length?(0,a.jsx)(a.Fragment,{children:i.map(e=>(0,a.jsx)("link",{rel:"alternate",href:e.url,hrefLang:e.language},`href_lang_${e.language}`))}):null,(0,h.c)(A),(0,u.vt)(c.yS.LOAD_META),(0,r.logCSAWidgetEnd)(c.yS.LOAD_META,Date.now()),(0,u.wx)(c.yS.LOAD_META),(0,r.logCSAWidgetLoad)(c.yS.LOAD_META,Date.now())]})};var f=T},45333:function(e,t,i){i.d(t,{Bs:function(){return n},ax:function(){return a},sc:function(){return o},yw:function(){return r}});let a="https://m.media-amazon.com/images/G/01/imdb/images/social/imdb_logo.png",r=1e3,n=1e3,o=1e3},81988:function(e,t,i){var a,r;i.d(t,{s:function(){return a}}),(r=a||(a={})).MusicAlbum="music.album",r.MusicSong="music.song",r.Profile="profile",r.VideoEpisode="video.episode",r.VideoMovie="video.movie",r.VideoOther="video.other",r.VideoTvShow="video.tv_show",r.Website="website"},49985:function(e,t,i){i.d(t,{O:function(){return r},n:function(){return a}});let a=["en-US","es-ES","es-MX","fr-FR","fr-CA","it-IT","pt-BR","hi-IN","de-DE"],r=e=>a.includes(e)},66662:function(e,t,i){i.d(t,{F2:function(){return d},gA:function(){return c},y8:function(){return s}});var a=i(91842);let r="FMjpg",n=375/812,o=1920/1080;function s(e,t){return d(e,`${r}_UX${Math.floor(t)}_`)}function l(e,t){return d(e,`${r}_UY${Math.floor(t)}_`)}function d(e,t){let i=e.split("."),a=i.length-2;return i[a].indexOf("_V1_")>=0&&(i[a]+=t),i.join(".")}function c(e,t){let i="";if(!e.height||!e.width||!e.url)return i;let r=e.height,d=e.width,c=e.url,u=Object.values(a.breakpoints.breakpointsNumbers),E=!1;if(u.forEach((e,t)=>{let p=e>d,m=t===u.length-1;if(!E){if(p)i+=s(c,d)+` ${d}w`;else if(r<d)i+=s(c,e)+` ${e}w`;else{let t=d/r,s=e>=a.breakpoints.breakpointsNumbers.m?o:n,u=Math.min(Math.floor(e/t),Math.floor(e/s)),E=Math.floor(u*t);i+=l(c,u)+` ${E}w`}p||m?E=!0:i+=", "}}),t){let e=Math.min(2160,d);r<d?i+=`, ${s(c,e)} ${e}w`:i+=`, ${l(c,r)} ${e}w`}return i}},62720:function(e,t,i){let a,r;i.r(t),i.d(t,{__N_SSP:function(){return eM},default:function(){return eD}});var n,o,s=i(52322),l=i(88023),d=i(66898),c=i(11778),u=i(70314),E=i.n(u),p=i(2784),m=i(25436),g=i(83128),h=i(16189);let I=(0,h.createLogger)()("util_fetchAdServiceAd"),T=async e=>{try{return await (0,l.makeAdServiceAdAJAXRequest)(e)}catch(e){return I.error("makeAdServiceAdAJAXRequest failed",e),null}};var f=i(92883),A=i(14865),_=i(45103),w=i(56812),S=i(77594),y=i(67646),b=i(81988),v=i(96556),N=i(93760),M=i(2841),D=i(28827),R=i(11793),L=i(52817),O=i(72779),P=i.n(O),x=i(73282),C=i(88173),k=i(11817);let $={NO_ELEMENT:"advertising banner/interstitial component or iframe are undefined",NO_IFRAME_CONTENT:"banner or interstitial was clicked on, but no contentDocument was found in iframe",NO_CLICK_TARGET:"banner or interstitial was clicked on, but no clickable element was found in iframe"},j=(0,h.createLogger)()("");function H(e,t,i){let a=t?.querySelector("iframe");if(!a){j.error($.NO_ELEMENT);return}let r=a.contentDocument;if(!r||!r.elementFromPoint){j.error($.NO_IFRAME_CONTENT);return}let{left:n,top:o}=a.getBoundingClientRect(),s=r.elementFromPoint(e.clientX-n,e.clientY-o);if(s){s.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0})),(0,k.P)(i);return}let l=t?.querySelector("#interstitial_sponsored");if(l){let{left:t,top:a,width:r,height:n}=l.getBoundingClientRect(),o=e.clientX-t,s=e.clientY-a;if(o>0&&o<=r&&s>0&&s<=n){l.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0})),(0,k.P)(i);return}}j.error($.NO_CLICK_TARGET)}var B=i(42057);let W=e=>{let{galleryUrl:t}=e,i=(0,D.N)({id:"mediaViewer_ariaLabel_gallery",defaultMessage:"gallery"});return(0,s.jsx)(_.IconButton,{"data-testid":"mv-gallery-button",name:"grid-view",label:i,href:t,onColor:"base"})},U=e=>{let{state:t,className:i,imagePosition:a}=e,r={countLabel:(0,D.N)(C.KL.countLabel,{position:a,total:t.totalImages})},n=`${C.Nw[t.type]}_mv`,o=(0,p.useRef)(null);return(0,s.jsx)(x.ol,{className:P()(C.$C.ACTION_BAR,l.MEDIAVIEWER_ACTIONBAR_CLASS,i),refTagPrefix:n,shareProps:{shareBody:F,emailSubject:F,label:G},breadcrumbProps:{refTagPrefix:n,"data-testid":"mv-breadcrumb-close-button"},actions:(0,s.jsxs)(s.Fragment,{children:[!t.showInterstitial&&!!t.position&&t.totalImages&&(0,s.jsx)(B.vI,{"data-testid":C.$C.ACTION_BAR_GALLERY_COUNT,children:r.countLabel}),(0,s.jsx)(W,{galleryUrl:n?`${t.galleryUrl}?ref_=${n}_sm`:t.galleryUrl})]}),heightClass:"extended",children:!t.showInterstitial&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.ZP,{name:l.MEDIAVIEWER_BANNER_SLOT_NAME}),(0,s.jsx)(B.Ov,{ref:o,onClick:e=>{H(e,o.current,"ad-banner")}})]})})},G={id:"mediaViewer_ariaLabel_shareOnSocialMedia",defaultMessage:"share on social media"},F={id:"mediaViewer_shareText_viewThisImage",defaultMessage:"View this image on IMDb!"},V=1e3/60;function Y(){clearTimeout(a),a=void 0}function K(e){return e>0?Math.min(450,e):e<0?Math.max(-450,e):0}function q(e,t,i){30>Math.abs(e)?(t(0),Y()):(i(),t(K(-e)),Y(),setTimeout(()=>t(0),V))}var z=i(5632),Z=i(18174),X=i.n(Z),J=i(26806),Q=i(72072),ee=i(76460),et=i(66662),ei=i(27261),ea=i(98046),er=i(87712),en=i(19126),eo=i.n(en);let es=e=>{let t=e?eo().parse(window.location.search.replace("?","")):{};return delete t.ref_,eo().stringify(t)};var el=i(72579),ed=i.n(el);let ec=(e,t)=>{switch(e){case er.b.NAME:return ed()(t,`${e}.${e}Text.text`,"");case er.b.TITLE:let i=ed()(t,`${e}.${e}Text.text`,""),a=ed()(t,`${e}.releaseYear.year`,"");return a?`${i} (${a})`:i;case er.b.GALLERY:return ed()(t,"imageGallery.galleryText","");case er.b.LIST:return ed()(t,`${e}.name.originalText`,"")}},eu=(e,t)=>e===er.b.NAME||e===er.b.TITLE?`/${e}/${t}/mediaindex/`:`/${e}/${t}/`,eE=(e,t)=>{let i=[];return t.forEach(t=>{let a=e===er.b.LIST?{...t,node:{...t.node.item,caption:t.node.description?.originalText||t.node.item.caption}}:{...t};i.push(a)}),i},ep=(e,t,i)=>{let a=C.Qn[e],r=e===er.b.LIST?"items":"images",n=`${a}.${r}`,o=`${a}.wrapFront`,s=`${a}.wrapBack`,l=a=>({images:eE(e,ed()(i,`${a}.edges`,[])),title:ec(e,i),galleryUrl:eu(e,t),total:ed()(i,`${a}.total`,0),startCursor:ed()(i,`${a}.pageInfo.startCursor`,""),hasPreviousPage:ed()(i,`${a}.pageInfo.hasPreviousPage`,!1),endCursor:ed()(i,`${a}.pageInfo.endCursor`,""),hasNextPage:ed()(i,`${a}.pageInfo.hasNextPage`,!1)}),d=l(n),c=l(o),u=l(s),E=d.total?d:c.total?c:u;return{images:[...d.images,...c.images,...u.images],title:E.title,galleryUrl:E.galleryUrl,total:E.total,startCursor:E.startCursor,hasPreviousPage:E.hasPreviousPage,endCursor:E.endCursor,hasNextPage:d.hasNextPage}},em=(e,t,i,a,r,n)=>{let o=[],s={main:void 0};switch(e){case"init":s.main={id:t,jumpTo:r,first:C.kH,last:C.kH/2,lastYes:!0,firstYes:!0};break;case"left":o=[...Array(C.kH).keys()].map(e=>{let t=i-e;return t<=0?null:t}),s.main={id:t,before:a,last:C.kH,lastYes:!0,firstYes:!1};break;case"right":o=[...Array(C.kH).keys()].map(e=>{let t=i+e;return t>n?null:t}),s.main={id:t,after:a,first:C.kH,lastYes:!1,firstYes:!0}}return o=o.filter(e=>null!==e),"init"!==e&&o.length<1&&(s.main=void 0),{fetchPositions:o,args:s}},eg=(e,t)=>{let i,a;let r=e.position||0,n=e.media&&e.media[r],o=n?.node.id;return o&&(i=e.vanitySubType&&e.vanityType?`/[${C.Ek}]/[vanityOrId]/[idWithVanity]/mediaviewer/[img]`:`/[${C.Ek}]/[vanityOrId]/mediaviewer/[img]`,a=e.vanitySubType&&e.vanityType?`/${e.vanityType}/${e.vanitySubType}/${e.listId}/mediaviewer/${o}/${t&&`?${t}`}`:`/${e.vanityType??e.type}/${e.listId}/mediaviewer/${o}/${t&&`?${t}`}`),{url:i,path:a}},eh=(e,t,i)=>{let a=C.Nw[t],r=C.k6[e];return`${a}_${i?"mv_ad":"mv"}_${r}`},eI=e=>{var t;return Math.abs(e)===C.ve||0==((Math.abs(e)-C.ve)%(t=C.gG)+t)%t},eT=e=>{var t;return 0==((Math.abs(e)-C.ve)%(t=C.HP)+t)%t};(n=o||(o={})).INITIALIZE="INITIALIZE",n.PAGE_LEFT="page-left",n.PAGE_RIGHT="page-right",n.GOTO_IMAGE_ID="goto-image-id",n.UPDATE_DISTANCE="update-distance",n.UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE="UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE",n.FETCH_IMAGES="FETCH-IMAGES",n.FETCH_IMAGES_PENDING="FETCH-IMAGES-PENDING",n.FETCH_IMAGES_DONE="FETCH-IMAGES-DONE",n.FETCH_IMAGES_FAILED="FETCH-IMAGES-FAILED",n.SHOW_EDIT_DRAWER="SHOW-EDIT-DRAWER",n.HIDE_EDIT_DRAWER="HIDE-EDIT-DRAWER",n.SHOW_REPORT_DRAWER="SHOW-REPORT-DRAWER",n.HIDE_REPORT_DRAWER="HIDE-REPORT-DRAWER",n.SHOW_BOTTOM_SHEET="SHOW-BOTTOM-SHEET",n.HIDE_BOTTOM_SHEET="HIDE-BOTTOM-SHEET",n.SHOW_PAGER="SHOW-PAGER",n.HIDE_PAGER="HIDE-PAGER",n.SET_MOUSE_TIMEOUT_ID="SET-MOUSE-TIMEOUT-ID",n.SET_LAST_TIME_MOUSE_MOVED="SET-LAST-TIME-MOUSE-MOVED";let ef=(0,h.createLogger)()("useMediaViewerState"),eA={initialize:e=>(t,i)=>{let{initialImageId:a,type:r,listId:n}=i();e||(t(a?eA.fetchImageBatch({direction:"init",jumpTo:a}):eA.fetchImageBatch({direction:"init",position:0})),t({type:"INITIALIZE",payload:{setState:{position:0,type:r,listId:n,initialImageId:a,enablePagers:!0}}}))},gotoImageId:e=>(t,i)=>{let a=Object.values(i().media).find(t=>t.node.id===e);t(a?{type:"goto-image-id",payload:{position:a.position}}:eA.fetchImageBatch({direction:"init",jumpTo:e}))},fetchImageBatch:e=>(t,i)=>{let{jumpTo:a,direction:r,position:n}=e,o=i(),{type:s,listId:l,media:d,isUserLoggedIn:c}=o,{fetchPositions:u,args:p}=em(r,l,n,d[o.position]?.cursor,a,o.totalImages),m=s===er.b.LIST,{publicRuntimeConfig:g}=E()();t({type:"FETCH-IMAGES-PENDING",payload:{fetchPositions:u,setState:{initiallyLoading:0===u.length&&!n}}}),Promise.all([!!p.main&&o.gqlClient.query((0,C.s)(s),p.main,{url:g.graphQLEndpoint,serverSideCacheable:!(m&&c)}).toPromise().then(e=>{let a=ep(s,l,e.data);if(a.images.length<1){let e="mediaviewer queryData image was empty";throw ef.error(e,{type:i().type,id:i().listId}),Error(e)}t({type:"FETCH-IMAGES-DONE",payload:{direction:r,fetchPositions:u,fetchResult:a}})}).catch(e=>{ef.error("mediaviewer query resulted in error",{type:i().type,id:i().listId,error:e}),t({type:"FETCH-IMAGES-FAILED",payload:{fetchPositions:u,setState:{initiallyLoading:!1},fetchError:e}})})].filter(Boolean))},page:e=>(t,i)=>{let a,r,n;let o=i(),s={left:-1,right:1,load_left:-4,load_right:4},l=o.pageDirection;if(o.loading[o.position]&&!o.showInterstitial||!o.enablePagers)return;let d=o.showInterstitial;eI(i().distance)&&(i().unseenInterstitialAvailable=!1),eT(i().distance)&&o.adHandlers?.updateBannerAd(),t(eA.updateDistance(s[e])),t(eA.stageInterstitialAd());let c=i().showInterstitial,u=d&&l!==e,E=c||u?i().position:i().position+s[e],p=i().position+s[`load_${e}`],g={type:o.type,subType:m.SubPageType.MEDIA_SINGLE,id:o.listId};switch(e){case"left":r=E<=0?i().totalImages:E,a=p<=0?1:r===i().totalImages?i().totalImages:p,n="page-left";break;case"right":r=E>o.totalImages?1:E,a=p>o.totalImages?i().totalImages:1===r?1:p,n="page-right"}o.media[r]||(a=r),o.media[a]||o.errors[a]||o.loading[a]||t(eA.fetchImageBatch({direction:e,position:r}));let h=eh(e,o.type,d);i().showInterstitial?(0,ei.K8)(h,g,`mvi-${n}`,ea.qB.ACTION_ONLY):(0,ei.K8)(h,g,`mv-${n}`,ea.qB.PAGE_HIT),t({type:n,payload:{position:r,refTag:h}})},updateDistance:e=>(t,i)=>{t({type:"update-distance",payload:{distance:i().distance+e}})},stageInterstitialAd:()=>async(e,t)=>{if(!t().unseenInterstitialAvailable){let i=await t().adHandlers?.updateInterstitialAd(),a=!(0,ee.Wd)(i?.slotsMap?.[l.INTERSTITIAL_SLOT_NAME]);e({type:"UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE",payload:{unseenInterstitialAvailable:a}}),eI(t().distance)&&(t().showInterstitial=a)}},showEdit:()=>({type:"SHOW-EDIT-DRAWER"}),hideEdit:()=>({type:"HIDE-EDIT-DRAWER"}),showReport:()=>({type:"SHOW-REPORT-DRAWER"}),hideReport:()=>({type:"HIDE-REPORT-DRAWER"}),showBottomSheet:()=>({type:"SHOW-BOTTOM-SHEET"}),hideBottomSheet:()=>({type:"HIDE-BOTTOM-SHEET"}),showPager:()=>({type:"SHOW-PAGER"}),hidePager:()=>({type:"HIDE-PAGER"}),setMouseTimeoutId:e=>t=>{t({type:"SET-MOUSE-TIMEOUT-ID",payload:{mouseTimeoutId:e}})},setLastTimeMouseMoved:e=>t=>{t({type:"SET-LAST-TIME-MOUSE-MOVED",payload:{lastTimeMouseMoved:e}})}},e_=function(e,t){let i,{type:a,payload:r}=t;switch(a){case"INITIALIZE":i={...e,...r?.setState};break;case"FETCH-IMAGES-PENDING":{let{fetchPositions:t}=r,a={...e.loading},n={...e.media};t.forEach(e=>{n[e]||(a[e]=!0)}),i={...e,loading:a,...r?.setState};break}case"FETCH-IMAGES-DONE":{let{fetchResult:t,fetchPositions:a,direction:n}=r,o={...e.media},s={...e.loading};t.images.forEach(e=>{if(o[e.position]||(o[e.position]=e,s[e.position]=!1),(0,A.getIsBrowser)()){let t=new Image;t.srcset=(0,et.gA)(e.node,!0),t.src=e.node.url}}),a?.forEach(e=>{s[e]=!1});let l="init"===n?t.images?.[0]?.position:eS(e.position,s,o,n,t);i={...e,initiallyLoading:!1,position:l,media:o,loading:s,listTitle:t.title,totalImages:t.total,enablePagers:t.total>1,galleryUrl:t.galleryUrl};break}case"FETCH-IMAGES-FAILED":{let{fetchPositions:t,fetchError:a}=r,n={...e.loading},o={...e.errors},s={...e.media};t.forEach(e=>{n[e]=!1,s[e]||(o[e]=a)}),i={...e,...r?.setState,errors:o,loading:n};break}case"page-left":case"page-right":case"goto-image-id":i={...e,position:r.position,refTag:r.refTag};break;case"update-distance":{let t=r?.distance??0,a=e.distance>t?"left":"right",n=eI(t)&&e.unseenInterstitialAvailable,o=eI(t-1),s=eI(t+1);i={...e,distance:r.distance,showInterstitial:n,prevIsInterstitial:o,nextIsInterstitial:s,pageDirection:a};break}case"UPDATE_UNSEEN_INTERSTITIAL_AVAILABLE":{let{unseenInterstitialAvailable:t}=r;i={...e,unseenInterstitialAvailable:t};break}case"SHOW-EDIT-DRAWER":i={...e,showEditDrawer:!0,showReportDrawer:!1};break;case"HIDE-EDIT-DRAWER":i={...e,showEditDrawer:!1};break;case"SHOW-REPORT-DRAWER":i={...e,showReportDrawer:!0,showEditDrawer:!1};break;case"HIDE-REPORT-DRAWER":i={...e,showReportDrawer:!1};break;case"SHOW-BOTTOM-SHEET":i={...e,showBottomSheet:!0};break;case"HIDE-BOTTOM-SHEET":i={...e,showBottomSheet:!1};break;case"SHOW-PAGER":i={...e,pagerVisibility:!0};break;case"HIDE-PAGER":i={...e,pagerVisibility:!1};break;case"SET-MOUSE-TIMEOUT-ID":i={...e,mouseTimeoutId:r.mouseTimeoutId};break;case"SET-LAST-TIME-MOUSE-MOVED":i={...e,lastTimeMouseMoved:r.lastTimeMouseMoved};break;default:throw Error("No reducer defined for type: "+a)}return ef.debug("reduced",a,"to new state",i,"payload",r),i},ew=(e,t,i,a,r,n,o,s,l)=>{let d=(0,J.m8)(),c=(0,z.useRouter)(),u={type:e,listId:t,initialImageId:i,vanitySubType:r,vanityType:a,refTag:n,gqlClient:d,media:{},errors:{},loading:{},distance:0,showEditDrawer:!1,showReportDrawer:!1,showBottomSheet:!0,pagerVisibility:!0,mouseTimeoutId:0,lastTimeMouseMoved:new Date,enablePagers:!0,pageDirection:"init",adHandlers:o,isUserLoggedIn:s,adBannerCleared:!1,unseenInterstitialAvailable:!1,showInterstitial:!1,prevIsInterstitial:!1,nextIsInterstitial:!1,initiallyLoading:!1};l&&(u=e_(u,{type:"FETCH-IMAGES-DONE",payload:{direction:u.pageDirection,fetchResult:l,fetchPositions:l.images?.map(e=>e.position)}}));let E=X()(e_,u),m=E[0],g=E[1],h={pageLeft:()=>g(eA.page("left")),pageRight:()=>g(eA.page("right")),showEdit:()=>g(eA.showEdit()),hideEdit:()=>g(eA.hideEdit()),showReport:()=>g(eA.showReport()),hideReport:()=>g(eA.hideReport()),showBottomSheet:()=>g(eA.showBottomSheet()),hideBottomSheet:()=>g(eA.hideBottomSheet()),gotoImageId:e=>g(eA.gotoImageId(e)),showPager:()=>g(eA.showPager()),hidePager:()=>g(eA.hidePager()),setMouseTimeoutId:e=>g(eA.setMouseTimeoutId(e)),setLastTimeMouseMoved:e=>g(eA.setLastTimeMouseMoved(e))},I=e=>{Q.M6.isRightArrowKey(e)?h.pageRight():Q.M6.isLeftArrowKey(e)&&h.pageLeft()};(0,p.useEffect)(()=>(window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I)}),[]);let T=(0,p.useRef)(void 0),f=(0,p.useRef)(!1);return(0,p.useEffect)(()=>{let{url:e,path:t}=eg(m,es((0,A.getIsBrowser)())),i=m.position||0,a=m.media&&m.media[i],r=a?.node.id,n=T.current;if(n&&i!==n&&a&&e){if(T.current=m.position,!r)return;if(!f.current){f.current=!0;return}c.replace(e,t,{shallow:!0,imageId:r})}else 0>window.location.href.indexOf(r)&&e&&c.replace(e,t,{shallow:!0,imageId:r})},[m.position,m.media]),(0,p.useEffect)(()=>{g(eA.initialize(l))},[]),(0,p.useDebugValue)(m),{state:m,actions:h}},eS=(e,t,i,a,r)=>{let n=e,o="left"===a;if(void 0!==n&&!t[n]&&!i[n]){if(r.images.length){let e=o?r.images.length-1:0;n=r.images[e].position}else{let e=Object.keys(i).sort();e.length&&(o&&e.reverse(),n=e.reduce((e,t)=>{let i=e,a=Number(t);return void 0===i?i=a:o&&a<n&&i>n?i=a:a>n&&i<n&&(i=a),i},void 0))}}return n},ey=e=>{let{type:t,listId:i,imgId:n,vanityType:o,vanitySubType:d,refTag:c,adHandlers:u,initialQueryData:E,initialQueryError:m}=e,g=(0,L.n)(),h=(0,R.Z)(),{state:I,actions:T}=ew(t,i,n,o,d,c,u,g,E?ep(t,i,E):void 0),{showInterstitial:O,errors:P,position:x,loading:k,media:$,totalImages:j,initiallyLoading:W}=I,[G,F]=(0,p.useState)(0),z=(0,p.useRef)(null),Z=P[x],X=$[x]?.node,J=$[x-1]?.node,Q=$[x+1]?.node,ee=$[x]?.position,et=k[x]||W,ei=$[x]?.node.correctionLink?.url,ea=$[x]?.node.reportingLink?.url,er={countLabel:(0,D.N)(C.KL.countLabel,{position:ee,total:j}),previousImageLabel:(0,D.N)(C.KL.previousImageLabel),nextImageLabel:(0,D.N)(C.KL.nextImageLabel),closePromptLabel:(0,D.N)(C.KL.closePromptLabel)},en=(0,_.useSwipeable)({onSwipedLeft:e=>{q(-e.deltaX,e=>F(e),T.pageRight)},onSwipedRight:e=>{q(-e.deltaX,e=>F(e),T.pageLeft)},onSwiping:e=>{var t,i;t=-e.deltaX,i=e=>F(e),a?r=()=>{i(K(t))}:(i(K(t)),a=setTimeout(()=>{r&&r(),Y()},V))},onSwiped:()=>{var e;e=e=>F(e),Y(),setTimeout(()=>e(0),V)}});function eo(e){let t=document.getElementsByClassName(e);return!!(t.length>0&&t[0].matches(":hover"))}function es(){return!(0,A.getIsNode)()&&(0,f.getIsMdot)(window.location.hostname)}function el(){if(et||es())return;let e=eo(C.$C.PAGE_LEFT),t=eo(C.$C.PAGE_RIGHT);e||t||T.hidePager()}if((0,p.useEffect)(()=>{es()&&T.showPager()},[]),(0,p.useEffect)(()=>{T.setMouseTimeoutId(setTimeout(el,5e3))},[]),(0,p.useEffect)(()=>{O&&clearTimeout(I.mouseTimeoutId)},[O]),Z||m)return(0,s.jsx)(B.Bc,{});let ed={image:X||void 0,title:I.listTitle,description:X?.caption?.plainText||I.listTitle,openGraphData:{type:b.s.Website}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Se,{...ed}),(0,s.jsx)(N.Z,{}),(0,s.jsx)(_.PageContentContainer,{children:(0,s.jsx)(U,{state:I,imagePosition:ee})}),(0,s.jsxs)(B.zb,{"data-testid":C.$C.PARENT,className:C.$C.PARENT,children:[(0,s.jsx)(B.GX,{...en,onMouseMove:()=>{I.pagerVisibility||T.showPager(),+new Date().getTime()-I.lastTimeMouseMoved.getTime()>400&&(clearTimeout(I.mouseTimeoutId),T.setLastTimeMouseMoved(new Date),T.setMouseTimeoutId(setTimeout(el,2e3)))},"data-testid":C.$C.TOUCH_HANDLER,onClick:e=>{O?H(e,z.current,"ad-interstitial"):I.showBottomSheet?T.hideBottomSheet():T.showBottomSheet()},children:(0,s.jsx)(B.D5,{})}),I.enablePagers&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(B.f$,{isVisible:!et&&I.pagerVisibility,direction:"left",onSelect:T.pageLeft,className:C.$C.PAGE_LEFT,ariaLabel:er.previousImageLabel}),(0,s.jsx)(B.ed,{isVisible:!et&&I.pagerVisibility,direction:"right",onSelect:T.pageRight,className:C.$C.PAGE_RIGHT,ariaLabel:er.nextImageLabel})]}),et&&!O&&(0,s.jsx)(B.zL,{"data-testid":C.$C.LOADER,children:(0,s.jsx)(_.Loader,{})}),O&&(0,s.jsx)(B.C1,{offset:G,ref:z,isMdot:es(),children:(0,s.jsx)(M.ZP,{name:l.INTERSTITIAL_SLOT_NAME})}),!I.showInterstitial&&!Z&&!m&&!et&&X&&(0,s.jsx)(S.Z,{image:X,"data-testid":C.$C.IMAGE,offset:G,prevImage:I.prevIsInterstitial?void 0:J,nextImage:I.nextIsInterstitial?void 0:Q},"image-"+X.id),!I.showInterstitial&&!Z&&!et&&X&&(0,s.jsx)(v.V,{className:C.$C.MEDIA_SHEET,imageData:X,content:{contextTitle:`${I.listTitle}`,contextCount:er.countLabel},editFlow:ei&&h?{desktopLink:ei,desktopOnOpen:()=>T.showEdit(),resolveMobileURL:e=>e.correctionLink.url}:void 0,reportFlow:ea&&h?{desktopLink:ea,desktopOnOpen:()=>T.showReport(),resolveMobileURL:e=>e.reportingLink.url}:void 0,listId:i,isClosed:!I.showBottomSheet,onCloseClicked:T.hideBottomSheet,onOpenClicked:T.showBottomSheet,refTagPrefix:`${C.Nw[I.type]}_mv`}),(0,s.jsx)(_.Drawer,{"data-testid":"mv-contribute-edit-drawer",className:C.$C.CONTRIBUTE_EDIT_DRAWER,isOpen:I.showEditDrawer,onCloseClicked:T.hideEdit,closePromptLabel:er.closePromptLabel,children:X&&(0,s.jsx)(w.o,{src:ei,onCloseMeCallback:T.hideEdit,className:C.$C.CONTRIBUTE_EDIT_IFRAME})}),(0,s.jsx)(_.Drawer,{className:C.$C.CONTRIBUTE_REPORT_DRAWER,isOpen:I.showReportDrawer,onCloseClicked:T.hideReport,children:X&&(0,s.jsx)(w.o,{src:ea,onCloseMeCallback:T.hideReport,className:C.$C.CONTRIBUTE_REPORT_IFRAME})})]})]})};var eb=i(42644),ev=i(42951),eN=i(70071),eM=!0,eD=e=>{let{type:t,id:i,vanityType:a,vanitySubType:r,refTag:n,validImageId:o,initialQueryData:u,initialQueryError:p}=e,h=(0,eb.D)();return h.clientSideUrl=(0,l.updateClientSideUrl)(E()().publicRuntimeConfig.adsPublicSiteHost,(0,c.isDevNodeEnv)(),h.clientSideUrl),(0,s.jsx)(g.ZP,{children:(0,s.jsxs)(eN.Z,{hideNav:!0,hideFooter:!0,hideNavigationProgressBar:!0,baseColor:"baseAlt",orientContent:"full",cti:m.CTIS.GALLERIES_CTI,children:[(0,s.jsx)(ey,{type:t,listId:i,imgId:o,vanityType:a,vanitySubType:r,refTag:n,adHandlers:{updateBannerAd:async()=>{let e=JSON.parse(JSON.stringify(h));delete e.slotSizeMap[l.INTERSTITIAL_SLOT_NAME],await T(e)},updateInterstitialAd:async()=>{if(h.isAbpEnabled)return;let e=JSON.parse(JSON.stringify(h));return delete e.slotSizeMap[l.MEDIAVIEWER_BANNER_SLOT_NAME],T(e)}},initialQueryData:u,initialQueryError:p}),(0,ev.YN)(),(0,s.jsx)(d.CSAPageATFScript,{})]})})}}}]);